# Quick Fix for 404 Errors

## Problem
The frontend was missing API routes to proxy requests to the backend, and the environment variable wasn't set on Vercel.

## Files Created
✅ `/app/api/shorten/route.ts` - Proxies shorten requests to backend
✅ `/app/api/urls/route.ts` - Proxies URL list and delete requests to backend

## Steps to Fix

### 1. Get Your Railway Backend URL

First, get your backend URL:
```bash
cd /Users/eagle/code/ai_training/labs/lab01-vibe-coding-intro/backend
railway status
```

Copy the URL (e.g., `https://url-shortener-production-xxxx.up.railway.app`)

### 2. Set Environment Variable on Vercel

**Option A: Using Vercel CLI (Quick)**
```bash
cd /Users/eagle/code/ai_training/labs/lab01-vibe-coding-intro/frontend

# Set the environment variable (replace with your Railway URL)
vercel env add NEXT_PUBLIC_API_URL production

# When prompted, enter your Railway backend URL:
# https://your-backend.up.railway.app
```

**Option B: Using Vercel Dashboard**
1. Go to https://vercel.com/dashboard
2. Click on your `frontend` project
3. Go to **Settings** → **Environment Variables**
4. Add:
   - **Name**: `NEXT_PUBLIC_API_URL`
   - **Value**: Your Railway backend URL (e.g., `https://url-shortener-production-xxxx.up.railway.app`)
   - **Environment**: Production
5. Click **Save**

### 3. Redeploy Frontend

```bash
cd /Users/eagle/code/ai_training/labs/lab01-vibe-coding-intro/frontend
vercel --prod
```

## What This Fixes

1. **404 on API calls** - The new API routes will proxy requests to your backend
2. **Short URL redirects** - Short URLs like `https://your-backend.railway.app/abc123` will now work because they point to the backend
3. **Environment configuration** - The frontend will know where your backend is deployed

## Test After Deployment

1. Visit your Vercel frontend URL
2. Shorten a URL
3. Click the shortened URL - it should redirect to the original URL
4. The backend handles the redirect, so the short URL will be on your Railway domain

## Architecture

```
User → Vercel Frontend (Next.js) → API Routes → Railway Backend (FastAPI)
                                                        ↓
User clicks short URL → Railway Backend → Redirects to original URL
```
